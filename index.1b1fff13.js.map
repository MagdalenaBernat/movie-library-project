{"mappings":"AAsFqBA,OAAMC,IACzB,MAAMC,QAAiBC,MACrB,sCAAsCF,8CAKxC,aAF2BC,EAASE,MAEjB,EAVnBC,CAac,QAbGC,MAAKC,GAjFjB,SAAqBC,GAC1B,MAAMC,EAAaC,SAASC,cAAc,gBAE1CF,EAAWG,UAAY,GACvBH,EAAWI,UAAUC,OAAO,aAC5B,MAAMC,EAAeP,EAAMQ,OAAOC,KAAIC,GAASA,EAAMC,OAAMC,KAAK,MAEhEX,EAAWG,UAAY,kOAIiBJ,EAAMa,yMAOLb,EAAMc,2IAGDd,EAAMe,gFAELf,EAAMgB,qKAKJhB,EAAMiB,8MAQ9CjB,EAAMkB,mKAM8BX,0JAKrCP,EAAMmB,wRAaGjB,SAASC,cAAc,2BAE/BiB,iBAAiB,SAAS,KACjCnB,EAAWI,UAAUgB,IAAI,YAAY,IAGvCnB,SAASkB,iBAAiB,WAAW,SAASE,EAAUC,GACpC,WAAdA,EAAMC,MACRvB,EAAWI,UAAUgB,IAAI,aACzBnB,SAASuB,oBAAoB,UAAWH,G,IAOzBpB,SAASC,cAAc,gBACzBD,SAASC,cAAc,a,CAILuB,CAAY3B","sources":["src/js/movie-modal.js"],"sourcesContent":["'use strict';\n\nexport function renderModal(movie) {\n  const movieModal = document.querySelector('.movie-modal');\n\n  movieModal.innerHTML = '';\n  movieModal.classList.remove('is-hidden');\n  const parsedGenres = movie.genres.map(genre => genre.name).join(', ');\n\n  movieModal.innerHTML = `<div class=\"movie-modal__content\"><button type=\"button\" class=\"movie-modal__close-btn\">x</button>\n<div class=\"movie-modal__image-container\">\n  <img\n    class=\"movie-modal__image\"\n    src=\"https://image.tmdb.org/t/p/w500${movie.poster_path}\"\n    alt=\"example image\"\n    loading=\"lazy\"\n  />\n</div>\n<div class=\"movie-modal__info-container\">\n  <div class=\"movie-modal__movie-info\">\n    <h2 class=\"movie-modal__movie-title\">${movie.title}</h2>\n    <div>\n      <span class=\"movie-modal__movie-rating\">Vote / Votes</span>\n      <span class=\"movie-modal__rating-value\">${movie.vote_average}</span>\n      /\n      <span class=\"movie-modal__rating-amount\">${movie.vote_count}</span>\n    </div>\n\n    <div>\n      <span class=\"movie-modal__movie-popularity\">Popularity</span>\n      <span clas=\"movie-modal__popularity-value\">${movie.popularity}</span>\n    </div>\n\n    <div>\n      <span class=\"movie-modal__movie-original-title\"\n        >Original Title</span\n      >\n      <span class=\"movie-modal__original-title-value\"\n        >${movie.original_title}</span\n      >\n    </div>\n\n    <div>\n      <span class=\"movie-modal__movie-genre\">Genre</span>\n      <span class=\"movie-modal__genre-value\">${parsedGenres}</span>\n    </div>\n    <div class=\"movie-modal__about-section\">\n      <h4>ABOUT</h4>\n      <span class=\"movie-modal__movie-description\">\n        ${movie.overview}\n      </span>\n    </div>\n  </div>\n  <div class=\"movie-modal__buttons\">\n    <button type=\"button\" class=\"watched-btn button\">\n      Add to watched\n    </button>\n    <button type=\"button\" class=\"queue-btn button\">Add to queue</button>\n  </div>\n</div>\n  </div>`;\n\n  const closeBtn = document.querySelector('.movie-modal__close-btn');\n\n  closeBtn.addEventListener('click', () => {\n    movieModal.classList.add('is-hidden');\n  });\n\n  document.addEventListener('keydown', function escapeKey(event) {\n    if (event.key === 'Escape') {\n      movieModal.classList.add('is-hidden');\n      document.removeEventListener('keydown', escapeKey);\n    }\n  });\n\n  // close modal by clicking on a background to be done\n  // add to watched, add to queue function to be done\n\n  const watchedBtn = document.querySelector('.watched-btn');\n  const queueBtn = document.querySelector('.queue-btn');\n}\n\nfunction getMovieDetails(id) {\n  fetchDetails(id).then(movieData => renderModal(movieData));\n}\n\nconst fetchDetails = async movieId => {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}?api_key=ac2189c49864b4ab99e8ac3560f99981`\n  );\n\n  const videoDetails = await response.json();\n\n  return videoDetails;\n};\n\ngetMovieDetails(505642); // example of generating modal for a movie by id\n"],"names":["async","movieId","response","fetch","json","$4281cb08e8defb2a$var$fetchDetails","then","movieData","movie","movieModal","document","querySelector","innerHTML","classList","remove","parsedGenres","genres","map","genre","name","join","poster_path","title","vote_average","vote_count","popularity","original_title","overview","addEventListener","add","escapeKey","event","key","removeEventListener","$4281cb08e8defb2a$export$69bf191433722f78"],"version":3,"file":"index.1b1fff13.js.map"}